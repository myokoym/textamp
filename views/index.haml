-# encoding: utf-8
!!! XML
!!!
%html
  %head
    %meta{'http-equiv' => 'content-type', :content => 'text/html; charset=utf-8'}
    %meta{'http-equiv' => 'content-style-type', :content => 'text/css'}
    %meta{'http-equiv' => 'content-script-type', :content => 'text/javascript'}
    %title Text amplifier - テキスト増幅器
  %body
    %h1 Textamp

    %a{:href => "https://github.com/myokoym/textamp"}
      %img{:style => "position: absolute; top: 0; right: 0; border: 0;",
           :src => "https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png",
           :alt => "Fork me on GitHub"}

    Powered by
    %a{:href => "http://www.ruby-lang.org/ja/"} Ruby
    ,
    %a{:href => "http://www.sinatrarb.com/intro-jp.html"} Sinatra
    ,
    %a{:href => "http://haml-lang.com/"} Haml

    %form{:action => url("/amplify", false, true), :method => "post"}
      %p
        volume
        %select{:name => "volume"}
          - 1.upto(100) do |i|
            - hash = {:value => i}
            - hash[:selected] = "selected" if i == @params[:volume].to_i
            %option{hash}= i
        ='　'
        - hash = {:type => "checkbox", :name => "linefeed", :value => "1"}
        - hash[:checked] = "checked" if "1" == @params[:linefeed]
        %input{hash} line feed
      %p
        - hash = {:type => "checkbox", :name => "increment", :value => "1"}
        - hash[:checked] = "checked" if "1" == @params[:increment]
        %input{hash} increment
        ='　'
        sign
        %select{:name => "increment_sign"}
          - %w(# $ % & @ + * ? _ -).each do |sign|
            - hash = {:value => sign}
            - hash[:selected] = "selected" if sign == @params[:increment_sign]
            %option{hash}= sign
        ='　'
        start
        %select{:name => "increment_start"}
          - [0, 1].each do |i|
            - hash = {:value => i}
            - hash[:selected] = "selected" if i == @params[:increment_start].to_i
            %option{hash}= i
        ='　'
        digit
        %select{:name => "increment_digit"}
          - 1.upto(10).each do |i|
            - hash = {:value => i}
            - hash[:selected] = "selected" if i == @params[:increment_digit].to_i
            %option{hash}= i
      %p
        - hash = {:type => "checkbox", :name => "template", :value => "1"}
        - hash[:checked] = "checked" if "1" == @params[:template]
        %input{hash} template
        ='　'
        sign
        %input{:type => "text", :name => "template_sign", :size => 5, :value => @params[:template_sign]}
        ='　'
        parts
        %textarea{:name => "template_text", :cols => 20, :rows => 1}= @params[:template_text]
      %p
        %textarea{:name => "text", :cols => 40, :rows => 5}= @params[:text]
      %p
        %input{:type => "submit"}
    %p
      %textarea{:cols => 40, :rows => 10}= @text
    %p
      HTTP GET URL
      %br
      %input{:type => "text", :size => 50, :value => @http_get_url}
